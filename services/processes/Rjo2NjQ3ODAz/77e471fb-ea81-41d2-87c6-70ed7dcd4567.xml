<?xml version="1.0" encoding="UTF-8"?><Component branchId="Qjo0MzcyNg" branchName="main" componentId="77e471fb-ea81-41d2-87c6-70ed7dcd4567" createdBy="akhil.khandelwal@boomi.com" createdDate="2024-04-10T19:12:22Z" currentVersion="true" deleted="false" folderFullPath="Boomi_APJ_Demo/Work - Git Integration - Framework/Git/AQ --&gt; Boomi" folderId="Rjo2NjQ3ODAz" folderName="Git/AQ --&gt; Boomi" modifiedBy="anshuman.padhi@boomi.com" modifiedDate="2024-04-12T07:01:42Z" name="Post Component Event (WS --&gt; Atom Queue)" type="process" version="11" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="bns:Component" xmlns="http://api.platform.boomi.com/"><bns:encryptedValues xmlns:bns="http://api.platform.boomi.com/"/><bns:description xmlns:bns="http://api.platform.boomi.com/">Listen for Component Id, Removing file extension then publish the ComponentID to Atom Queue.</bns:description><bns:object xmlns:bns="http://api.platform.boomi.com/"><process allowSimultaneous="true" enableUserLog="false" processLogOnErrorOnly="false" purgeDataImmediately="false" updateRunDates="false" workload="general" xmlns=""><shapes><shape image="start" name="shape1" shapetype="start" userlabel="" x="48.0" y="46.0"><configuration><connectoraction actionType="Listen" allowDynamicCredentials="NONE" connectorType="wss" hideSettings="true" operationId="db285608-3910-452d-9676-4c3db8972a12"><parameters/><dynamicProperties/></connectoraction></configuration><dragpoints><dragpoint name="shape1.dragpoint1" toShape="shape5" x="224.0" y="56.0"/></dragpoints></shape><shape image="connectoraction_icon" name="shape2" shapetype="connectoraction" userlabel="" x="656.0" y="48.0"><configuration><connectoraction actionType="Send" allowDynamicCredentials="NONE" connectionId="a4466bba-9c4b-45e9-b193-e137e57c2b0b" connectorType="queue" hideSettings="false" operationId="997bc9ba-5373-4a0b-b065-8ccc815d07a7"><parameters/><dynamicProperties/></connectoraction></configuration><dragpoints><dragpoint name="shape2.dragpoint1" toShape="shape4" x="800.0" y="56.0"/></dragpoints></shape><shape image="message_icon" name="shape3" shapetype="message" userlabel="" x="432.0" y="48.0"><configuration><message combined="false"><msgTxt>{1}</msgTxt><msgParameters><parametervalue key="0" valueType="profile"><profileelement elementId="169" elementName="ArrayElement1 (Root/Object/commits/Array/ArrayElement1/Object/modified/Array/ArrayElement1)" profileId="dc0edec1-0c1c-4f7d-9e08-96803174f840" profileType="profile.json"/></parametervalue></msgParameters></message></configuration><dragpoints><dragpoint name="shape3.dragpoint1" toShape="shape7" x="528.0" y="56.0"/></dragpoints></shape><shape image="stop_icon" name="shape4" shapetype="stop" userlabel="" x="816.0" y="48.0"><configuration><stop continue="true"/></configuration><dragpoints/></shape><shape image="decision_icon" name="shape5" shapetype="decision" userlabel="" x="240.0" y="48.0"><configuration><decision comparison="wildcard" name=""><decisionvalue valueType="profile"><profileelement elementId="169" elementName="ArrayElement1 (Root/Object/commits/Array/ArrayElement1/Object/modified/Array/ArrayElement1)" profileId="dc0edec1-0c1c-4f7d-9e08-96803174f840" profileType="profile.json"/></decisionvalue><decisionvalue valueType="static"><staticparameter staticproperty="services*"/></decisionvalue></decision></configuration><dragpoints><dragpoint identifier="true" name="shape5.dragpoint1" text="True" toShape="shape3" x="416.0" y="56.0"/><dragpoint identifier="false" name="shape5.dragpoint2" text="False" toShape="shape6" x="416.0" y="136.0"/></dragpoints></shape><shape image="stop_icon" name="shape6" shapetype="stop" userlabel="" x="432.0" y="128.0"><configuration><stop continue="true"/></configuration><dragpoints/></shape><shape image="dataprocess_icon" name="shape7" shapetype="dataprocess" userlabel="" x="544.0" y="48.0"><configuration><dataprocess><step index="1" key="1" name="Custom Scripting" processtype="12"><dataprocessscript language="groovy2" useCache="true"><script>import java.util.Properties;
import java.io.InputStream;

for( int i = 0; i &lt; dataContext.getDataCount(); i++ ) {
    InputStream is = dataContext.getStream(i);
    Properties props = dataContext.getProperties(i);
    
    def inputString = is.getText("UTF-8"); // get current document as UTF-8 string

    componentId = inputString.takeBefore(".xml"); 

    InputStream modifiedStream = new ByteArrayInputStream(componentId.getBytes("UTF-8")); // store string as current document

    dataContext.storeStream(modifiedStream, props);
}</script></dataprocessscript></step></dataprocess></configuration><dragpoints><dragpoint name="shape7.dragpoint1" toShape="shape2" x="640.0" y="56.0"/></dragpoints></shape></shapes></process></bns:object><bns:processOverrides xmlns:bns="http://api.platform.boomi.com/"/></Component>
